default:
  autoload:
    '': %paths.base%/bootstrap
  suites:
    default:
      contexts:
        - Drupal\DrupalExtension\Context\DrupalContext
        - Drupal\DrupalExtension\Context\MinkContext
        - Drupal\DrupalExtension\Context\MessageContext
        - Drupal\DrupalExtension\Context\DrushContext
        - FeatureContext
      paths:
        features: %paths.base%/features
      filters:
        tags: "~@drupal"
  extensions:
    Behat\MinkExtension:
      goutte: ~
      selenium2:
        wd_host: "http://localhost:4444/wd/hub"
      javascript_session: selenium2
    Drupal\DrupalExtension:
      blackbox: ~
      drupal:
        drupal_root: ../../docroot
      drush:
        root: ../../docroot
      region_map:
        sidebar_second: 'section.region-sidebar-second'

# Separate profile for testing using the Drupal API driver.
drupal:
  autoload:
      '': %paths.base%/bootstrap
  suites:
    default:
      contexts:
        - Drupal\DrupalExtension\Context\DrupalContext
        - Drupal\DrupalExtension\Context\MinkContext
        - Drupal\DrupalExtension\Context\MessageContext
        - Drupal\DrupalExtension\Context\DrushContext
        - FeatureContext
      filters:
        tags: "@drupal"
      paths:
        features: %paths.base%/features
  extensions:
      Behat\MinkExtension:
        goutte: ~
        selenium2:
          wd_host: "http://localhost:4444/wd/hub"
        javascript_session: selenium2
      Drupal\DrupalExtension:
        blackbox: ~
        api_driver: "drupal"
        drupal:
          drupal_root: ../../docroot
        drush:
          root: ../../docroot
        selectors:
          success_message_selector: '.messages.status'
          message_selector: '.messages'
          error_message_selector: '.messages.error'

imports:
  - behat.govcms.yml
  - behat.local.yml
